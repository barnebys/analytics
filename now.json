{
  "version": 2,
  "build": {
    "env": {
      "BA_HOST": "@ba-host",
      "BTM_SESSION_TTL": "@ba-btm-session-ttl"
    }
  },
  "env": {
    "SESSION_NAME": "@ba-session-name",
    "SESSION_MAX_AGE": "@ba-session-max-age",
    "SECRET": "@ba-secret",
    "SITE_URL": "@ba-site-url"
  },
  "headers": [
    {
      "source": "/r/collect(.*)",
      "headers": [
        {
          "key": "Access-Control-Allow-Origin",
          "value": "*"
        }
      ]
    },
    {
      "source": "/v1/bite.js",
      "headers": [
        {
          "key": "Cache-Control",
          "value": "max-age=31536000, immutable"
        }
      ]
    }
  ],
  "rewrites": [
    {
      "source": "/r/collect",
      "destination": "api/collect"
    },
    {
      "source": "/v1/bite.js",
      "destination": "bite.v1.js"
    },
    {
      "source": "/(.*)",
      "destination": "https://analytics-v1.barnebys.sh/$1"
    }
  ]
}
